{"version":3,"sources":["components/Login.js","components/PlaylistForm.js","components/NewPlaylist.js","components/ListSizing.js","components/Controls.js","components/ListItem.js","components/GalleryView.js","components/List.js","App.js","serviceWorker.js","index.js"],"names":["Login","className","href","React","Component","PlaylistForm","options","i","this","props","playlistType","push","key","value","onSubmit","createPlaylist","htmlFor","id","onChange","e","getDefaultValues","target","type","playlistName","required","playlistDescription","playlistSize","size","dropdownSize","onFocus","onBlur","sizeChange","createSelectItems","NewPlaylist","createSimilarPlaylist","topTracks","seeds","arr","n","length","result","Array","len","taken","RangeError","x","Math","floor","random","getRandom","items","map","track","spotifyApi","getRecommendations","limit","state","seed_tracks","then","response","tracks","uri","a","typeBool","document","getElementById","innerHTML","preventDefault","playlistId","getMe","name","description","getMyTopTracks","time_range","timeRange","trackURIs","addTracksToPlaylist","getPlaylist","setState","justCreated","getElementsByClassName","firstElementChild","textContent","src","images","url","external_urls","spotify","resetForm","modalShow","title","toLowerCase","blur","Fragment","onClick","disabled","itemType","Modal","show","onHide","Header","aria-hidden","Body","alt","Footer","rel","ListSizing","data-toggle","changeListSize","defaultChecked","Controls","toggleItems","changeTimeRange","ListItem","listSize","itemInfo","rank","link","getGenres","image","artistLink","artist","albumLink","artwork","album","GalleryView","Carousel","activeIndex","galleryIndex","onSelect","handleSelect","interval","indicators","idx","Item","Caption","List","getHeader","header","getTracks","forEach","trackObj","artists","getArtists","getMyTopArtists","artistObj","genres","slice","newType","from","element","classList","replace","selectedIndex","genreArray","txt","charAt","toUpperCase","substr","genre","App","token","getHashParams","access_token","loggedIn","SpotifyWebApi","setAccessToken","hashParams","r","q","window","location","hash","substring","exec","decodeURIComponent","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.85a34344.chunk.js","sourcesContent":["import React from \"react\";\nimport \"../css/Login.css\"\n\nclass Login extends React.Component {\n  render() {\n    return (\n      <div className=\"login-bg\">\n        <div className=\"login\">\n          <h1>Spotify Wrapped++</h1>\n          <p>\n            Want to view your top tracks and artists but don't want to wait\n            until December for Spotify Wrapped? Now you can with Spotify\n            Wrapped++!\n          </p>\n          <a href=\"https://peaceful-fortress-73033.herokuapp.com/login\">\n            <button className=\"spotify-btn\">Log in with Spotify</button>\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass PlaylistForm extends React.Component {\n\n  // generate playlist size options for select form element\n  createSelectItems() {\n    let options = [];\n    // only top 50 available for top tracks\n    // can generate up to 100 recommendations\n    const maxSize = this.props.playlistType === \"Top Tracks\" ? 50 : 100;\n    for (let i = maxSize; i >= 10; i--) {\n      options.push(\n        <option key={i} value={i}>\n          {i}\n        </option>\n      );\n    }\n    return options;\n  }\n\n  render() {\n    return (\n      <form className=\"modal-body\" onSubmit={this.props.createPlaylist}>\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleFormControlSelect\">Playlist Type</label>\n          <select\n            className=\"form-control\"\n            id=\"exampleFormControlSelect\"\n            value={this.props.playlistType}\n            onChange={(e) => this.props.getDefaultValues(e.target.value)}\n          >\n            <option>Top Tracks</option>\n            <option>Personalized Recommendations</option>\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"playlistName\">Playlist Name</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"playlistName\"\n            value={this.props.playlistName}\n            onChange={this.props.onChange}\n            required\n          ></input>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"playlistDescription\">Playlist Description</label>\n          <textarea\n            className=\"form-control\"\n            id=\"playlistDescription\"\n            value={this.props.playlistDescription}\n            onChange={this.props.onChange}\n          ></textarea>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleFormControlSelect2\">Playlist Size</label>\n          <select\n            className=\"form-control\"\n            id=\"exampleFormControlSelect2\"\n            value={this.props.playlistSize}\n            size={this.props.dropdownSize}\n            onFocus={this.props.onFocus}\n            onBlur={this.props.onBlur}\n            onChange={this.props.sizeChange}\n          >\n            {this.createSelectItems()}\n          </select>\n        </div>\n        <div id=\"submit\">\n          <button type=\"submit\" id=\"submit-btn\" className=\"spotify-btn\">\n            Create Playlist\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\n\nPlaylistForm.propTypes = {\n  dropdownSize: PropTypes.number.isRequired,\n  playlistSize: PropTypes.string.isRequired,\n  playlistType: PropTypes.string.isRequired,\n  playlistName: PropTypes.string.isRequired,\n  playlistDescription: PropTypes.string.isRequired,\n  createPlaylist: PropTypes.func.isRequired,\n  getDefaultValues: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func.isRequired,\n  onBlur: PropTypes.func.isRequired,\n  sizeChange: PropTypes.func.isRequired,\n};\n\nexport default PlaylistForm;\n","import React from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport PropTypes from \"prop-types\";\nimport PlaylistForm from \"./PlaylistForm.js\";\nimport \"../css/NewPlaylist.css\";\n\nclass NewPlaylist extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dropdownSize: 1,\n      // form field start\n      playlistType: \"Top Tracks\",\n      playlistName: \"\",\n      playlistDescription: \"\",\n      playlistSize: \"50\",\n      // form field end\n      justCreated: false,\n      modalShow: false,\n    };\n  }\n\n  componentDidMount() {\n    this.getDefaultValues(this.state.playlistType);\n  }\n\n  createSimilarPlaylist = (topTracks) => {\n    // select 5 random tracks and get their seeds\n    const seeds = getRandom(topTracks.items.map((track) => track.id));\n\n    // get recommendations and return track URIs\n    return this.props.spotifyApi\n      .getRecommendations({\n        limit: this.state.playlistSize,\n        seed_tracks: seeds,\n      })\n      .then((response) => {\n        return response.tracks.map((track) => track.uri);\n      });\n  };\n\n  createPlaylist = async (e) => {\n    // checks which playlist to make\n    const typeBool = this.state.playlistType === \"Top Tracks\";\n    // sets playlist size directly for top tracks playlist\n    // gets top 25 to select 5 random seeds from for personal recommendations\n    const playlistSize = typeBool ? this.state.playlistSize : 25;\n    // loading animation\n    document.getElementById(\"submit-btn\").innerHTML =\n      '<span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> Loading...';\n    e.preventDefault();\n    let id = null;\n    let playlistId = null;\n\n    // make a new playlist\n    await this.props.spotifyApi.getMe().then((response) => {\n      id = response.id;\n    });\n    await this.props.spotifyApi\n      .createPlaylist(id, {\n        name: this.state.playlistName,\n        description: this.state.playlistDescription,\n      })\n      .then((response) => {\n        playlistId = response.id;\n      });\n\n    // get track URIs\n    await this.props.spotifyApi\n      .getMyTopTracks({\n        time_range: this.props.timeRange,\n        limit: playlistSize,\n      })\n      .then((topTracks) => {\n        // directly get track URIs from top tracks\n        if (typeBool) {\n          return topTracks.items.map((track) => track.uri);\n        }\n        // pass top 25 to get 5 randomly selected seeds to generate recommended tracks\n        // return the trackURIs from these recmomended tracks\n        else {\n          return this.createSimilarPlaylist(topTracks);\n        }\n      })\n      .then((trackURIs) => {\n        // add tracks to playlist\n        this.props.spotifyApi\n          .addTracksToPlaylist(playlistId, trackURIs)\n          .then(() => {\n            this.props.spotifyApi.getPlaylist(playlistId).then((response) => {\n              this.setState({ justCreated: true });\n              // display confirmation of playlist creation\n              const modal = document.getElementsByClassName(\"modal-content\")[0];\n              modal.firstElementChild.firstElementChild.textContent =\n                \"Playlist Created!\";\n              document.getElementById(\"new-playlist-image\").src =\n                response.images[0].url;\n              document.getElementById(\"open-playlist\").href =\n                response.external_urls.spotify;\n            });\n          });\n      });\n  };\n\n  resetForm = () => {\n    document.getElementById(\"modal-title\").textContent = \"Playlist Details\";\n    this.getDefaultValues(\"Top Tracks\");\n    this.setState({\n      playlistType: \"Top Tracks\",\n      playlistSize: \"50\",\n      justCreated: false,\n      modalShow: false,\n    });\n  };\n\n  getDefaultValues = (type) => {\n    const playlistName = \"My \" + type + \" - \" + this.props.title[1];\n    const playlistDescription = `A playlist of my ${type.toLowerCase()} (${this.props.title[1].toLowerCase()}) created by Spotify Rewind++`;\n    this.setState({\n      playlistType: type,\n      playlistName,\n      playlistDescription,\n    });\n  };\n\n  onChange = (e) => this.setState({ [e.target.id]: e.target.value });\n\n  onFocus = () => {\n    this.setState({ dropdownSize: 10 });\n  };\n\n  onBlur = () => {\n    this.setState({ dropdownSize: 1 });\n  };\n\n  sizeChange = (e) => {\n    e.target.blur();\n    this.setState({ playlistSize: e.target.value });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <button\n          type=\"button\"\n          className=\"spotify-btn control grid-2-2\"\n          onClick={() => {\n            this.getDefaultValues(this.state.playlistType);\n            this.setState({ modalShow: true });\n          }}\n          disabled={this.props.itemType}\n        >\n          Create Playlist\n        </button>\n        <Modal show={this.state.modalShow} onHide={this.resetForm}>\n          <Modal.Header className=\"modal-header text-center\">\n            <h5 id=\"modal-title\">Playlist Details</h5>\n            <button type=\"button\" className=\"close\" onClick={this.resetForm}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </Modal.Header>\n          {!this.state.justCreated && (\n            <Modal.Body className=\"modal-content\">\n              <PlaylistForm\n                dropdownSize={this.state.dropdownSize}\n                playlistSize={this.state.playlistSize}\n                playlistType={this.state.playlistType}\n                playlistName={this.state.playlistName}\n                playlistDescription={this.state.playlistDescription}\n                createPlaylist={this.createPlaylist}\n                getDefaultValues={this.getDefaultValues}\n                onChange={this.onChange}\n                onFocus={this.onFocus}\n                onBlur={this.onBlur}\n                sizeChange={this.sizeChange}\n              ></PlaylistForm>\n            </Modal.Body>\n          )}\n          {this.state.justCreated && (\n            <React.Fragment>\n              <Modal.Body className=\"modal-content\">\n                <h2 className=\"text-center mt-3\">{this.state.playlistName}</h2>\n                <img\n                  id=\"new-playlist-image\"\n                  alt={`${this.state.playlistName} Cover`}\n                ></img>\n              </Modal.Body>\n              <Modal.Footer>\n                <a\n                  href=\"/#\"\n                  id=\"open-playlist\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <button className=\"spotify-btn\">Open Playlist</button>\n                </a>\n                <button\n                  onClick={this.resetForm}\n                  type=\"button\"\n                  className=\"spotify-btn-2\"\n                >\n                  Close\n                </button>\n              </Modal.Footer>\n            </React.Fragment>\n          )}\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nNewPlaylist.propTypes = {\n  itemType: PropTypes.bool.isRequired,\n  timeRange: PropTypes.string.isRequired,\n  spotifyApi: PropTypes.object.isRequired,\n  title: PropTypes.array.isRequired,\n};\n\n// Selects 5 random elements from an array\nfunction getRandom(arr) {\n  let n = arr.length > 5 ? 5 : arr.length; // error handling if array has less than 5 elements\n  var result = new Array(n),\n    len = arr.length,\n    taken = new Array(len);\n  if (n > len)\n    throw new RangeError(\"getRandom: more elements taken than available\");\n  while (n--) {\n    var x = Math.floor(Math.random() * len);\n    result[n] = arr[x in taken ? taken[x] : x];\n    taken[x] = --len in taken ? taken[len] : len;\n  }\n  return result;\n}\n\nexport default NewPlaylist;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass ListSizing extends React.Component {\n  render() {\n    return (\n      <div className=\"btn-group control grid-1-2\" data-toggle=\"buttons\">\n        <button\n          className=\"btn list-sizing\"\n          onClick={this.props.changeListSize}\n          value=\"gallery\"\n          id=\"ls-gallery\"\n        >\n          <input type=\"radio\" name=\"options\"></input>\n        </button>\n        <button\n          className=\"btn list-sizing active\"\n          onClick={this.props.changeListSize}\n          value=\"large\"\n          id=\"ls-1\"\n        >\n          <input type=\"radio\" name=\"options\" defaultChecked></input>\n        </button>\n        <button\n          className=\"btn list-sizing\"\n          onClick={this.props.changeListSize}\n          value=\"medium\"\n          id=\"ls-2\"\n        >\n          <input type=\"radio\" name=\"options\"></input>\n        </button>\n        <button\n          className=\"btn list-sizing\"\n          onClick={this.props.changeListSize}\n          value=\"small\"\n          id=\"ls-3\"\n        >\n          <input type=\"radio\" name=\"options\"></input>\n        </button>\n      </div>\n    );\n  }\n}\n\nListSizing.propTypes = {\n  changeListSize: PropTypes.func.isRequired,\n};\n\nexport default ListSizing;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport NewPlaylist from \"./NewPlaylist.js\";\nimport ListSizing from \"./ListSizing.js\";\nimport \"../css/Controls.css\";\n\nclass Controls extends React.Component {\n  render() {\n    return (\n      <div className=\"controls\">\n        <div className=\"toggle control grid-1-1\">\n          <p className=\"toggle-label\">Tracks</p>\n          <input type=\"checkbox\" onChange={this.props.toggleItems}></input>\n          <p className=\"toggle-label\">Artists</p>\n        </div>\n        <select\n          className=\"spotify-btn-2 control grid-2-1\"\n          value={this.props.timeRange}\n          onChange={this.props.changeTimeRange}\n        >\n          <option value=\"short_term\">4 Weeks</option>\n          <option value=\"medium_term\">6 Months</option>\n          <option value=\"long_term\">All Time</option>\n        </select>\n        <NewPlaylist\n          itemType={this.props.itemType}\n          timeRange={this.props.timeRange}\n          spotifyApi={this.props.spotifyApi}\n          title={this.props.title}\n        ></NewPlaylist>\n        <ListSizing changeListSize={this.props.changeListSize}></ListSizing>\n      </div>\n    );\n  }\n}\n\nControls.propTypes = {\n  itemType: PropTypes.bool.isRequired,\n  timeRange: PropTypes.string.isRequired,\n  listSize: PropTypes.string.isRequired,\n  toggleItems: PropTypes.func.isRequired,\n  changeTimeRange: PropTypes.func.isRequired,\n  changeListSize: PropTypes.func.isRequired,\n  spotifyApi: PropTypes.object.isRequired,\n  title: PropTypes.array.isRequired,\n};\n\nexport default Controls;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"../css/ListItem.css\";\n\nclass ListItem extends React.Component {\n// two different renders depending on whether tracks or artists are being displayed\n  render() {\n    if (this.props.itemType) {\n      return (\n        <div className={`list-group-item ${this.props.listSize}`}>\n          <p className={`rank ${this.props.listSize}`}>\n            {this.props.itemInfo.rank}.\n          </p>\n          <div className=\"info-container large\">\n            <a\n              href={this.props.itemInfo.link}\n              target=\"_blank\"\n              className={`link ${this.props.listSize}`}\n              rel=\"noopener noreferrer\"\n              >\n              {this.props.itemInfo.name}\n            </a>\n            <br />\n            <p className={`info ${this.props.listSize} genres`}>\n              {this.props.getGenres(this.props.itemInfo)}\n            </p>\n          </div>\n          <img\n            src={this.props.itemInfo.image}\n            className={`list-image ${this.props.listSize}`}\n            alt={this.props.itemInfo.name}\n          />\n        </div>\n      );\n    } else {\n      return (\n        <div className={`list-group-item ${this.props.listSize}`}>\n          <p className={`rank ${this.props.listSize}`}>\n            {this.props.itemInfo.rank}.\n          </p>\n          <div className=\"info-container large\">\n            <a\n              href={this.props.itemInfo.link}\n              target=\"_blank\"\n              className={`link ${this.props.listSize}`}\n              rel=\"noopener noreferrer\"\n              >\n              {this.props.itemInfo.name}\n            </a>\n            <br />\n            <a\n              href={this.props.itemInfo.artistLink}\n              target=\"_blank\"\n              className={`info ${this.props.listSize}`}\n              rel=\"noopener noreferrer\"\n              >\n              {this.props.itemInfo.artist}\n            </a>\n          </div>\n          <a\n            href={this.props.itemInfo.albumLink}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <img\n              src={this.props.itemInfo.artwork}\n              className={`list-image ${this.props.listSize}`}\n              alt={this.props.itemInfo.album}\n            />\n          </a>\n        </div>\n      );\n    }\n  }\n}\n\nListItem.propTypes = {\n  itemType: PropTypes.bool.isRequired,\n  listSize: PropTypes.string.isRequired,\n  itemInfo: PropTypes.object.isRequired,\n};\n\nexport default ListItem;\n","import React from \"react\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport PropTypes from \"prop-types\";\nimport \"../css/GalleryView.css\";\n\nclass GalleryView extends React.Component {\n\n  render() {\n    return (\n      <Carousel\n        activeIndex={this.props.galleryIndex}\n        onSelect={this.props.handleSelect}\n        interval={null}\n        indicators={true}\n      >\n        {this.props.items.map((itemInfo, idx) => {\n          if (this.props.itemType) {\n            return (\n              <Carousel.Item key={idx}>\n                <img\n                  src={itemInfo.image}\n                  className={`list-image ${this.props.listSize}`}\n                  alt={itemInfo.name}\n                />\n                <Carousel.Caption>\n                  <p>{idx + 1}. </p>\n                  <a\n                    href={itemInfo.link}\n                    target=\"_blank\"\n                    className={`link ${this.props.listSize}`}\n                    rel=\"noopener noreferrer\"\n                  >\n                    {itemInfo.name}\n                  </a>\n                  <br />\n                  <p\n                    className={`info ${this.props.listSize} genres`}\n                  >\n                    {this.props.getGenres(itemInfo)}\n                  </p>\n                </Carousel.Caption>\n              </Carousel.Item>\n            );\n          } else {\n            return (\n              <Carousel.Item key={idx}>\n                <a\n                  href={itemInfo.albumLink}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <img\n                    src={itemInfo.artwork}\n                    className={`list-image ${this.props.listSize}`}\n                    alt={itemInfo.album}\n                  />\n                </a>\n                <Carousel.Caption>\n                  <p>{idx + 1}. </p>\n                  <a\n                    href={itemInfo.link}\n                    target=\"_blank\"\n                    className={`link ${this.props.listSize}`}\n                    rel=\"noopener noreferrer\"\n                  >\n                    {itemInfo.name}\n                  </a>\n                  <br />\n                  <a\n                    href={itemInfo.artistLink}\n                    target=\"_blank\"\n                    className={`info ${this.props.listSize}`}\n                    rel=\"noopener noreferrer\"\n                  >\n                    {itemInfo.artist}\n                  </a>\n                </Carousel.Caption>\n              </Carousel.Item>\n            );\n          }\n        })}\n      </Carousel>\n    );\n  }\n}\n\nGalleryView.propTypes = {\n  items: PropTypes.array.isRequired,\n  itemType: PropTypes.bool.isRequired,\n  listSize: PropTypes.string.isRequired,\n};\n\nexport default GalleryView;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Controls from \"./Controls.js\";\nimport ListItem from \"./ListItem.js\";\nimport GalleryView from \"./GalleryView.js\";\nimport \"../css/List.css\";\n\nclass List extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      itemType: false, // false for tracks, true for artists\n      items: [],\n      timeRange: \"short_term\",\n      listSize: \"large\",\n      galleryIndex: 0,\n    };\n  }\n\n  componentDidMount() {\n    this.getTracks().then((tracks) => this.setState({ items: tracks }));\n  }\n\n  getHeader = () => {\n    let header = \"Your Top \";\n    header += this.state.itemType ? \"Artists\" : \"Tracks\";\n    switch (this.state.timeRange) {\n      case \"short_term\":\n        return [header, \"Last 4 Weeks\"];\n      case \"medium_term\":\n        return [header, \"Last 6 Months\"];\n      case \"long_term\":\n        return [header, \"All Time\"];\n      default:\n        return \"error\";\n    }\n  };\n\n  getTracks = () => {\n    return this.props.spotifyApi\n      .getMyTopTracks({ time_range: this.state.timeRange, limit: \"50\" })\n      .then((response) => {\n        // console.log(response);\n        const tracks = [];\n        response.items.forEach((track, idx) => {\n          const trackObj = {\n            name: track.name,\n            artist: track.artists[0].name,\n            artistLink: track.artists[0].external_urls.spotify,\n            artwork: track.album.images[0].url,\n            album: track.album.name,\n            albumLink: track.album.external_urls.spotify,\n            link: track.external_urls.spotify,\n            rank: idx + 1,\n          };\n          tracks.push(trackObj);\n        });\n        return tracks;\n      });\n  };\n\n  getArtists = () => {\n    return this.props.spotifyApi\n      .getMyTopArtists({ time_range: this.state.timeRange, limit: \"50\" })\n      .then((response) => {\n        // console.log(response);\n        const artists = [];\n        response.items.forEach((artist, idx) => {\n          const artistObj = {\n            name: artist.name,\n            image: artist.images[0].url,\n            link: artist.external_urls.spotify,\n            genres: artist.genres.slice(0, 3),\n            rank: idx + 1,\n          };\n          artists.push(artistObj);\n        });\n        return artists;\n      });\n  };\n\n  toggleItems = () => {\n    const newType = !this.state.itemType;\n    if (newType) {\n      this.getArtists().then((artists) => {\n        this.setState({ itemType: newType, items: artists, galleryIndex: 0 });\n      });\n    } else {\n      this.getTracks().then((tracks) => {\n        this.setState({ itemType: newType, items: tracks, galleryIndex: 0 });\n      });\n    }\n  };\n\n  changeTimeRange = async (e) => {\n    await this.setState({ timeRange: e.target.value });\n    if (this.state.itemType) {\n      this.getArtists().then((artists) => {\n        this.setState({ items: artists, galleryIndex: 0 });\n      });\n    } else {\n      this.getTracks().then((tracks) => {\n        this.setState({ items: tracks, galleryIndex: 0 });\n      });\n    }\n  };\n\n  changeListSize = (e) => {\n    const size = e.target.value;\n    if (size !== \"gallery\") {\n      Array.from(document.getElementsByClassName(this.state.listSize)).forEach(\n        (element) => {\n          element.classList.replace(this.state.listSize, size);\n        }\n      );\n    }\n    this.setState({ listSize: size });\n  };\n\n  // handles gallery view\n  handleSelect = (selectedIndex, e) => {\n    this.setState({ galleryIndex: selectedIndex });\n  };\n\n\n  // formats genres properly for artist view\n  getGenres = (itemInfo) => {\n    const genreArray = [...itemInfo.genres];\n    let genres = \"\";\n    if (genreArray.length > 0) {\n      // this is a function to capitalize the first letter of every word\n      genres += genreArray[0].replace(/\\w\\S*/g, function (txt) {\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n      });\n      for (let genre of genreArray.slice(1)) {\n        genres += `, ${genre.replace(/\\w\\S*/g, function (txt) {\n          return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n        })}`;\n      }\n    }\n    return genres;\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <header>\n          <h1>{this.getHeader()[0]}</h1>\n          <h2>{this.getHeader()[1]}</h2>\n        </header>\n        <Controls\n          itemType={this.state.itemType}\n          timeRange={this.state.timeRange}\n          listSize={this.state.listSize}\n          toggleItems={this.toggleItems}\n          changeTimeRange={this.changeTimeRange}\n          changeListSize={this.changeListSize}\n          spotifyApi={this.props.spotifyApi}\n          title={this.getHeader()}\n        ></Controls>\n        <div className=\"body\">\n          <div className=\"container list-group\">\n            {this.state.listSize === \"gallery\" && (\n              <GalleryView\n                items={this.state.items}\n                itemType={this.state.itemType}\n                listSize={this.state.listSize}\n                galleryIndex={this.state.galleryIndex}\n                handleSelect={this.handleSelect}\n                getGenres={this.getGenres}\n              ></GalleryView>\n            )}\n            {this.state.listSize !== \"gallery\" &&\n              this.state.items.map((itemInfo, idx) => {\n                return (\n                  <ListItem\n                    itemType={this.state.itemType}\n                    listSize={this.state.listSize}\n                    getGenres={this.getGenres}\n                    itemInfo={itemInfo}\n                    key={idx}\n                  ></ListItem>\n                );\n              })}\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nList.propTypes = {\n  spotifyApi: PropTypes.object.isRequired,\n};\n\nexport default List;\n","import React, { Component } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport Login from \"./components/Login.js\";\nimport List from \"./components/List.js\";\n\nimport \"./App.css\";\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    const params = this.getHashParams();\n    const token = params.access_token;\n    this.state = {\n      loggedIn: token ? true : false,\n      spotifyApi: new SpotifyWebApi()\n    };\n    if (token) {\n      this.state.spotifyApi.setAccessToken(token);\n    }\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n    while ((e = r.exec(q))) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {!this.state.loggedIn && (\n          <Login></Login>\n        )}\n        {this.state.loggedIn && (\n          <List spotifyApi={this.state.spotifyApi}></List>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}